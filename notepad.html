
<!DOCTYPE html>
<html lang="en">

<head>
   <script async src="/lib/tagmng.js"></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Notepad | Write your notes online</title>
	<meta name="description" content="Notepad online. Free notepad app, no login required.">
	<meta property="og:type" content="website" />
	<meta property="og:image" content="https://www.rapidtables.com/lib/ogimages/notepad.jpg" />
	<meta property="og:url" content="https://www.rapidtables.com/tools/notepad.html"/>
	<meta property="og:title" content="Notepad online" />
   <meta property="og:description" content="Notepad online free app." />

	<link rel="apple-touch-icon" sizes="180x180" href="/lib/favicon/notepad/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/lib/favicon/notepad/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/lib/favicon/notepad/favicon-16x16.png">
	<link rel="manifest" href="/lib/favicon/notepad/manifest.json">
	<link rel="mask-icon" href="/lib/favicon/notepad/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="/lib/favicon/notepad/favicon.ico">
	<meta name="msapplication-config" content="/lib/favicon/notepad/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">	
	
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<script src="https://code.getmdl.io/1.3.0/material.min.js" defer></script>
    <style>
		html, body {
			margin:0;
			height:100%;
			width:100%;
			font-family:Arial, Helvetica, sans-serif;
		}
      /*
		#private_div {
			display:none;
			height:30px !important;
			padding-top: 10px;
		}
		#private_div a {
			color:black;
			text-decoration:none;
			margin-top:30px;
			margin-left:0px;
			padding:20px;
		}
		#private_div i {
			font-size:16px;
			margin-top:-8px;
			padding:10px;
			vertical-align:top;
		}
		#private_div i:hover { font-weight:bold; }
      */
		#header { 
			background:#444;
         /*min-height:65px;*/
		}
		.sdiv
		{
			display:inline-block;
			vertical-align:middle;
			margin-left:30px;
			margin-right:0px;
		}
		#share>a>img { width:40px; height:40px; }
		#share>a:nth-child(1)>img { color:#4867AA; }
		.social-twitter { color:#1DA1F2; }
		.social-whatsapp { color:#2DB742; }
		.social-e-mail-envelope { color:#468A7F; }
      .adslot { display:inline-block; height:60px; max-height:60px; width:468px; }
		@media (max-width:800px) {
			.sdiv { margin-top:10px; margin-bottom:10px; }
			#share { margin-top:0; display:none; }
			#ad_div { display:none; padding-top:0px; padding-bottom:20px; }
			.adslot { max-width:320px; width:320px; max-height:50px; height:50px; }
		}
		@media (min-width:721px) and (max-width:1024px) {
		}
		@media (min-width:800px) {
			#ad_div { margin-left:50px; }
		}
		#bread { color:#ddd; font-size:medium; vertical-align:middle; margin-bottom:auto; }
		#bread a { color:#ddd; text-decoration:none; padding:20px 5px; }
		#bread a:hover { color:#fff; background:#333; }
		
		#toolbar {
			background:#ddd;
			margin:0;
			padding-left:20px;
		}
		#toolbar button {
			margin:0;
			border:0;
			padding:5px 10px;
		}
		#toolbar button:hover {
			background:#eee;
		}
		#toolbar button i {
			font-size:xx-large;
			color:#555;
		}
		@media all and (max-width: 576px) {
			#toolbar table tr td:nth-child(-n+3),
			#toolbar table tr td:nth-child(n+9) { display:none }
			#addthis, #sub { display:none }
		}
		
		#main {
			margin:0;
			padding:0px 0px 20px 0px;
			height: 90%;
			/*overflow-x: hidden;*/
		}
		textarea {
			height:100%;
			width:90%;
			width:calc(100% - 55px);
			margin:0;
			padding-top:3px;
			padding-left:50px;
			background:#fdf8c8;
			font-family:verdana;
		    font-family: Arial, Helvetica, Sans-serif;
			font-size:large;
			outline: none;	
		}
		.notes {
			background-image: -webkit-linear-gradient(90deg, #d0a090 1px, #d0a090 1px), linear-gradient(#fdf8c8, #fdf8c8 23px, #ccd 23px, #ccd 24px, #fdf8c8 24px);
			background-image: -moz-linear-linear-gradient(90deg, #d0a090 1px, #d0a090 1px), linear-gradient(#fdf8c8, #fdf8c8 23px, #ccd 23px, #ccd 24px, #fdf8c8 24px);
			background-image: -ms-linear-gradient(90deg, #d0a090 1px, #d0a090 1px), linear-gradient(#fdf8c8, #fdf8c8 23px, #ccd 23px, #ccd 24px, #fdf8c8 24px);
			background-image: -o-linear-gradient(90deg, #d0a090 1px, #d0a090 1px), linear-gradient(#fdf8c8, #fdf8c8 23px, #ccd 23px, #ccd 24px, #fdf8c8 24px);
			background-image: linear-gradient(90deg, #d0a090 1px, #d0a090 1px), linear-gradient(#fdf8c8, #fdf8c8 23px, #ccd 23px, #ccd 24px, #fdf8c8 24px);
			background-size: 2px 100%, 100% 24px;
			background-position: 40px top, left 0px;
			background-repeat:no-repeat, repeat;
		   line-height: 24px !important;
		   background-attachment: local;
		}
		#bar { padding-left:20px; }
		@media (max-width:576px) {
			#main { height: calc(100% - 140px); padding:0; }
		}
		@media (min-width:577px) {
			#main { height: calc(100% - 175px); }
		}

		table,th,td,tr { 
			border-width: 0px;
			border-collapse:collapse;
			padding:0px;
			margin:0px;
		}
		#menu2 { background:#ccc; }
		#menu2 .mdl-button:hover { background:#ddd; }
		#menu2 .mdl-menu__outline { background:#f8f8f8; }
		#menu2>ul {
    		list-style-type: none;
    		margin: 0;
    		margin-left:10px;
    		padding: 0;
    		overflow: hidden;
    		/*width: 90px;*/
		}
		#menu2>ul>li {
			float:left;
    		display: inline-block;
		}
		#menu2>ul>li>button,
		#menu2>ul>li>a {
			padding:0 8px;
    		text-transform:none;
    		font-size:medium;
		}
		#menu2>ul>li i { margin-right:10px; }
		/*#menu2>ul>li>ul>li>a {*/
		#menu2 .mdl-menu__item {
			height:34px;
			line-height:34px;
			display: inline-flex;
			vertical-align: middle;
			align-items: center;
			width:100%;
		}
		#menu2 .mdl-menu__item i {
			color:#444;
		}
		#tlines { visibility:hidden; }

      #banner { display:none; border-top:1px #eee solid; font-size:14px; position:fixed; z-index:9999; left:0; right:0; bottom:0; padding:1em 1.8em; color:#333333; background:#f8f8f8; }
      #banner div { vertical-align:middle; display:inline-block; min-width:300px; }
      #banner div:last-child { min-width:320px; line-height:40px; }
      #banner a { cursor:pointer; text-decoration:none; color:#333; }
      #bansetbtn { padding:12px 10px; margin-left:20px; color:#333333; border:1px #ccc solid; white-space:nowrap; }
      #banokbtn { padding:12px 50px;  margin-left:20px; background:#8EC760; color:#fff !important; font-weight:bold; }
      #bansetbtn:hover { background:#e8e8e8; }
      #banokbtn:hover { background:#7EB750; }
      @media all and (max-width:1000px) {
         #banner div:last-child { margin-top:10px; }
         #banokbtn { margin-left:0; }
      }
	</style>
</head>

<body>
	<div id="header">
		<div class="sdiv">
			Notepad
		</div>
		<script>
			document.getElementById("sharefb").href = "https://facebook.com/sharer/sharer.php?u="+encodeURIComponent(window.location.href)+"&title="+encodeURIComponent(document.title);
			document.getElementById("sharetw").href = "https://twitter.com/intent/tweet?text="+encodeURIComponent(document.title)+"&url="+encodeURIComponent(window.location.href);
			document.getElementById("sharewa").href = "https://api.whatsapp.com/send?text="+encodeURIComponent(document.title)+" "+encodeURIComponent(window.location.href);
			document.getElementById("shareml").href = "mailto:?to=&subject="+encodeURIComponent(document.title)+"&body="+encodeURIComponent(window.location.href);
		</script>
		<div class="sdiv" id="ad_div">
			<!-- RT above responsive -->
			<ins class="adsbygoogle adslot"
			     data-ad-client="ca-pub-5335356106950684"
              data-ad-slot="6506963100"></ins>
		</div>
	</div>
	<div id="menu2">
		<ul>
			<li>
				<button id="menu-file" class="mdl-button mdl-js-button">File</button>
				<ul class="mdl-menu mdl-menu-top-left mdl-js-menu mdl-js-ripple-effect" for="menu-file">
					<li><a onclick="New()"	href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">insert_drive_file</i><span>New</span></a></li>
					<li><a onclick="Open()"	href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">folder_open</i>Open</a></li>
					<li><a onclick="Save()"	href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">save</i>Save</a></li>
					<li><a onclick="Save_As()"	href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">save</i>Save As...</a></li>
					<li><a onclick="Print()"	href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">print</i>Print</a></li>
				</ul>
			</li>
			<li>
				<button id="menu-edit" class="mdl-button mdl-js-button">Edit</button>
				<ul class="mdl-menu mdl-menu-top-left mdl-js-menu mdl-js-ripple-effect" for="menu-edit">
					<li><a onclick="Undo()"		href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">undo</i><span>Undo</span></a></li>
					<li><a onclick="Redo()"		href="javascript:void(0);" class="mdl-menu__item mdl-menu__item--full-bleed-divider"><i class="material-icons">redo</i><span>Redo</span></a></li>
					<li><a onclick="Cut(0)"		href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">content_cut</i><span>Cut</span></a></li>
					<li><a onclick="Copy()"		href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">content_copy</i><span>Copy</span></a></li>
					<li><a onclick="Paste()"	href="javascript:void(0);" class="mdl-menu__item mdl-menu__item--full-bleed-divider"><i class="material-icons">content_paste</i><span>Paste</span></a></li>
					<li><a onclick="Del()"		href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">clear</i><span>Delete</span></a></li>
					<li><a onclick="SelectAll()" href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">select_all</i><span>Select All</span></a></li>
				</ul>
			</li>
			<li>
				<button href="#" id="menu-view" class="mdl-button mdl-js-button">View</button>
				<ul class="mdl-menu mdl-menu-top-left mdl-js-menu mdl-js-ripple-effect" for="menu-view">
					<li><a onclick="IncSize()" href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">zoom_in</i>Zoom In</a></li>
					<li><a onclick="DecSize()" href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons">zoom_out</i>Zoom Out</a></li>
					<li><a onclick="TextLines()" href="javascript:void(0);" class="mdl-menu__item"><i class="material-icons" id="tlines">check</i>Text Lines</a></li>
				</ul>
			</li>
			<!--<li><a href="notepad_help.html" id="menu-edit" class="mdl-button mdl-js-button">Help</a></li>-->
			
			</li>
		</ul>
	</div>
	<div id="toolbar">
		<table>
		<tr>
			<td><button type="button" name="B1" title="New"		onClick="New()"><i class="material-icons">insert_drive_file</i></button></td>
			<td><button type="button" name="B2" title="Open"	onClick="Open()"><i class="material-icons">folder_open</i></button></td>
			<td><button type="button" name="B3" title="Save"	onClick="Save()"><i class="material-icons">save</i></button></td>
			<td><button type="button" name="B4" title="Cut"		onClick="Cut(0)"><i class="material-icons">content_cut</i></button></td>
			<td><button type="button" name="B5" title="Copy"	onClick="Copy()"><i class="material-icons">content_copy</i></button></td>
			<td><button type="button" name="B6" title="Paste"	onClick="Paste()"><i class="material-icons">content_paste</i></button></td>
			<td><button type="button" name="B7" title="Undo"	onClick="Undo()"><i class="material-icons">undo</i></button></td>
			<td><button type="button" name="B8" title="Redo"	onClick="Redo()"><i class="material-icons">redo</i></button></td>
			<td><button type="button" name="B9" title="Zoom Out" onClick="DecSize()"><i class="material-icons">zoom_out</i></button></td>
		   <td><button type="button" name="B10" title="Zoom In" onClick="IncSize()"><i class="material-icons">zoom_in</i></button></td>
			<td><input type="file" multiple id="fileElem" name="fileElem[]" style="visibility:hidden; width:30px" onchange="loadFile()"></td>
		</tr>
		</table>
		<table>
		<tr id="getFilename" style="display:none">
			<td>Enter file name:</td>
			<td><input type="text" id="filename" name="filename" placeholder="filename.txt" style="width:150px; padding:5px;"></td>
			<td><input type="button" id="save" name="save" value="Save" onclick="saveFile()" style="padding:5px 10px 5px 10px; margin:0px"></td>
			<td><input type="button" id="cancel" name="cancel" value="Cancel" onclick="cancelSaveFile()" style="padding:5px; margin:0px"></td>
		</tr>
		</table>
	</div>
   <!--
	<div id="private_div">
		<a href="#"><i class="material-icons">clear</i></a>Incognito/Private mode detected - saving text to browser's local storage is not available! Please open Notepad in regular window!
	</div>
   -->
	<div id="main">
		<textarea id="area" name="S1" autofocus></textarea>
		<div id="bar"></div>
	</div>
   <div id="banner">
      <div>
         This website uses cookies to improve your experience, analyze traffic and display ads.
         <a href="https://www.rapidtables.com/about/privacy.html">Learn more</a>
      </div>
      <div>
         <a id="banokbtn">OK</a>
         <a id="bansetbtn" href="/about/cookies.html">Manage Settings</a>
      </div>
   </div>

<script src="/lib/utils/utils.js"></script>
<script src="/lib/Blob.js-master/Blob.js"></script> 
<script src="/lib/FileSaver.js-master/FileSaver.js"></script> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	var browser;
	var area;
	var selectedText = "";
	var selectionStart,selectionEnd;
	var isIE = false;
	var txt_hist,pos_hist,ihist,nhist,Nhist;
	var ctrlDown=false;
	var key={tabKey:9, ctrlKey:17, pageupKey:33, pagedownKey:34, leftKey:37, upKey:38, rightKey:39, downKey:40, delKey:46, aKey:65, cKey:67, sKey:83, vKey:86, xKey:88, yKey:89, zKey:90};
	
	$(window).blur( function()
	{
		selectedText="";
		LocalSave();
	});
	
	$(window).on("unload", function(e)
	{
		LocalSave();
	});
	$(document).ready( function()
	{
		area = document.getElementById("area");
		txt_hist = new Array();
		pos_hist = new Array();
		Nhist = 10;
		nhist = 0;
		ihist = 0;
		
		var browser = get_browser();
		
		if (navigator.appName == 'Microsoft Internet Explorer')
			isIE = true;
		
		if( typeof(localStorage.notepad_text) == 'undefined' )
		{
			if( typeof(localStorage.text) == 'undefined' )
				localStorage.notepad_text = '';
			else
				localStorage.notepad_text = localStorage.text;
		}
		area.value = localStorage.notepad_text;
			
		if( typeof(localStorage.notepad_fontSize) == 'undefined' )
		{
			if( typeof(localStorage.fontSize) == 'undefined' )
				localStorage.notepad_fontSize = 15;
			else
				localStorage.notepad_fontSize = localStorage.fontSize;
		}
			
		if( typeof(localStorage.notepad_filename) == 'undefined' )
			localStorage.notepad_filename = '';
		SetDocTitle();
		
		SetFontSize();
		
		$("#area").keydown(function(e) {
			//setTimeout(function(){ keydown(e); }, 100);
			keydown(e);
		});
		$("#area").keyup(function(e) {
		   SetBar();
		});

		Snapshot();

		$("#area").click(function() {
			pos = getCaret();
			if( pos!=pos_hist[ihist] )
				Snapshot();
			SetBar();
			return false;
		});
		
		$("#menu2 .mdl-button").mouseenter( function() {
			$(this).click();
		});
		$("#menu2 .mdl-menu").mouseleave( function() {
			$("#menu2 .mdl-menu__container").removeClass("is-visible");
		});
		$("#header").mouseenter( function() {
			$("#menu2 .mdl-menu__container").removeClass("is-visible");
		});
		$("#area").mouseenter( function() {
			$("#menu2 .mdl-menu__container").removeClass("is-visible");
		});
		
		//$("#private_div a i").click( function() { $("#private_div").hide(); });
		if( browser=="Chrome" ) {
			TextLines();
			//CheckIncognitoMode();
		}
		setCaret(0);
		SetBar();
		//alert("Please press the Save button to backup your notes. Rapidtables.com will upgrade to secured http in several days.");
	});
	/*
	function CheckIncognitoMode()
	{
		var fs = window.RequestFileSystem || window.webkitRequestFileSystem;
		if (!fs) {
			console.log("check failed?");
		} else {
			fs(window.TEMPORARY,
				100,
				function() { $("#private_div").hide(); },
				function() { $("#private_div").show(); });
		}
	}
   */
	function keydown(e)
	{
		var evtobj = window.event? event : e;
		var ctrlKey=evtobj.ctrlKey;
		var keyCode=evtobj.keyCode;
		if( ctrlKey )
		{
			if( keyCode==key.aKey )
			{
				area.focus();
			}
			if( keyCode==key.sKey )
			{
				e.preventDefault();
				Save();
				return false;
			}
			// Ctrl+Z
			if( keyCode==key.zKey )
			{
				e.preventDefault();
				Undo();
			}
			// Ctrl+Y
			if( keyCode==key.yKey )
			{
				e.preventDefault();
				Redo();
			}
			// Ctrl+C
			if( keyCode==key.cKey )
			{
				//e.preventDefault();
				Copy();
			}
			// Ctrl+V
			if( keyCode==key.vKey )
			{
				if( selectedText.length!=0 )
					e.preventDefault();
				Paste();
			}
			// Ctrl+X
			if( keyCode==key.xKey )
			{
				//e.preventDefault();
				Cut(1);
			}
		}
		// page up/down
		if( keyCode==key.upKey || keyCode==key.downKey )
		{
			area.focus();
		}
		// tab
		if( keyCode==key.tabKey )
		{
			e.preventDefault();
			Snapshot();
			s = getSelect(area);
			var text = area.value;
			fillString(text, '\u0009', s.start, s.end);
			pos = s.start+1;
			setCaret(pos);
		}
		// delete
		if( keyCode==key.delKey )
		{
			Del2();
		}

		//SetBar();
	}
	function Print()
	{
        childWindow = window.open('','childWindow','location=yes, menubar=yes, toolbar=yes');
        childWindow.document.open();
        childWindow.document.write('<html lang="en"><head></head><body>');
        childWindow.document.write(document.getElementById('area').value.replace(/\n/gi,'<br>'));
        childWindow.document.write('</body></html>');
        childWindow.print();
        childWindow.document.close();
        childWindow.close();
   	}
   	function Help()
   	{
   		window.location.href = 'notepad_help.html';
   	}
   	// works with chrome, not in FF
   	function Exit()
   	{
   		window.open('','_self','');
   		window.close();
   	}
	function New()
	{
		cancelSaveFile();
		Snapshot();
		if( area.value != "" )
		{
			var r=confirm("Are you sure?");
			if (r==true)
			{
				area.value = "";
	    		localStorage.notepad_filename = '';
				SetDocTitle();		
				//Snapshot();
			}
		}
		area.focus();
	}
	function Open()
	{
		cancelSaveFile();
		var fileElem = document.getElementById("fileElem");
		fileElem.focus();
		fileElem.click();
	}
	function LocalSave()
	{
		localStorage.notepad_text = area.value;
		area.focus();
	}
	function Save_As()
	{
		if( area.value=='' ) return;
		document.getElementById("getFilename").style.display = "";
		//return false;
	}
	function Save()
	{
		if( area.value=='' ) return;
		
		if( localStorage.notepad_filename=='' )
			document.getElementById("getFilename").style.display = "";
		else
			saveFile();
		
		return false;
	}
	function SelectAll()
	{
		area.select();
	}
	function Del()
	{
		s = getSelect(area);
		if( s.text.length!=0 )
		{
			Snapshot();
			var text = area.value;
			fillString(text,"", s.start, s.end);
		}
		pos = s.start;
		setCaret(pos);

		area.focus();
	}
	function Del2()
	{
		s = getSelect(area);
		if( s.text.length!=0 )
		{
			Snapshot();
			var text = area.value;
			fillString(text,"", s.start, s.end-1);
		}
		pos = s.start;
		setCaret(pos);

		area.focus();
	}
	function Cut(isKey)
	{
		s = getSelect(area);
		if( s.text.length!=0 )
		{
			Snapshot();
			selectedText = s.text;
         if( !isKey )
			   fillString(area.value,"", s.start, s.end);
		}
		else
			selectedText = '';
      if( !isKey )
		{
         pos = s.start;
		   setCaret(pos);
      }
		area.focus();
	}
	function Copy()
	{
		//document.execCommand('copy');
		s = getSelect(area);
		if( s.text.length!=0 )
			selectedText = s.text;
		else
			selectedText = '';
		setSelect(area,s.start,s.end);
		area.focus();
	}
	function Paste()
	{
		s = getSelect(area);
		Snapshot();
		if( selectedText.length!=0 )
		{
			//Snapshot();
			var text = area.value;
			fillString(text, selectedText, s.start, s.end);
			pos = s.start+selectedText.length;
			setCaret(pos);
		}
		area.focus();
	}
	function cancelSaveFile()
	{
		document.getElementById("getFilename").style.display = "none";
	}
	function saveFile()
	{
		document.getElementById("getFilename").style.display = "none";
		var name = document.getElementById("filename").value;
		if( name=='' ) name='filename.txt';
		localStorage.notepad_filename = name;
		SetDocTitle();
		LocalSave();
		
		s = area.value;
		OSName = GetOS();
		if( OSName=="Windows" )
			s = s.replace(/\n/g,'\r\n');
		var blob = new Blob([s], {type: "text/plain;charset=utf-8"});
		saveAs(blob, localStorage.notepad_filename);
	}
	function loadFile()
	{
		var fileElem = document.getElementById("fileElem").files[0];
      document.getElementById("fileElem").value="";
		var name = fileElem.name;
		var reader = new FileReader();
	   reader.onloadend = function(evt) {
	    	if( evt.target.readyState==FileReader.DONE ) {
	    		localStorage.notepad_filename = name;
				SetDocTitle();
	    		//area.value = evt.target.result;
	    		s = evt.target.result;
				OSName = GetOS();
				if( OSName=="Windows" )
		    		s = s.replace(/\r\n/g,'\n');
	    		area.value = s;
				area.focus();				
      	}
    	};
		reader.readAsText(fileElem);
	}
	function getSelect(obj)
	{
		var s = obj.selectionStart;
		var e = obj.selectionEnd;
		var txt = obj.value.substring(s,e);
		return { start: s, end: e, text: txt };
	}
	function setSelect(obj, start, end) 
	{
		obj.focus(); 
		obj.selectionStart = start; 
		obj.selectionEnd = end; 
	}
	function fillString(text, selectText, start, end)
	{
		// split textarea value into three pieces: before startPosition,
	    // startPosition until endPosition, and after endPosition
		var str1 = text.substring(0,start);
		var str2 = text.substring(start,end);
		var str3 = text.substring(end,text.length);
		// replace str2 with formatted substring (selectedText)
		str2 = selectText;
		area.value = str1+str2+str3;
	}
	// !!! check with IE
	function getCaret()
	{
		return area.selectionStart;
	}
	function setCaret(pos)
	{
		area.selectionStart = pos;
		area.selectionEnd   = pos;
	}
	function Snapshot()
	{
		pos = getCaret();
		txt = area.value;
		if( txt_hist[ihist-1]==area.value ) return;
		if( ihist==nhist )
		{
			pos_hist.push(pos);
			txt_hist.push(txt);
			ihist++;
			if( pos_hist.length > Nhist )
			{
				pos_hist.shift();
				txt_hist.shift();
				ihist--;
			}
		}
		else
		{
			pos_hist[ihist] = pos;
			txt_hist[ihist] = txt;
			ihist++;
			if( (ihist+1)<=nhist )
				for(i=ihist+1; i<=nhist; i++)
				{
					pos_hist.pop();
					txt_hist.pop();
				}
		}
		nhist = ihist;
	}
	function Undo()
	{
		//if( browser=='Chrome' )
		if(0)
		{
			document.execCommand('undo',false,null);
			return;
		}
		
		if( nhist==0 ) return;
		if( ihist<2 ) return;
		
		if( txt_hist[ihist-1]!=area.value )
			Snapshot();
		ihist--;
		i = ihist-1
		pos = pos_hist[i];
		txt = txt_hist[i];
		setCaret(pos);
		area.value = txt;
	}
	function Redo()
	{
		//if( browser=='Chrome' )
		if(0)
		{
			document.execCommand('redo',false,null);
			return;
		}
		
		if( nhist==0 ) return;
		if( ihist==nhist ) return;
		pos = pos_hist[ihist];
		txt = txt_hist[ihist];
		ihist++;
		setCaret(pos);
		area.value = txt;
	}
	function DecSize()
	{
		if( localStorage.notepad_fontSize > 8 ) 
		{
			localStorage.notepad_fontSize--;
			if( localStorage.notepad_fontSize >= 13 ) localStorage.notepad_fontSize--;
			SetFontSize();
		}
		area.focus();
	}
	function IncSize()
	{
		if( localStorage.notepad_fontSize < 50 ) 
		{
			localStorage.notepad_fontSize++;
			if( localStorage.notepad_fontSize >= 13 ) localStorage.notepad_fontSize++;
			SetFontSize();
		}
		area.focus();
	}
	function TextLines()
	{
		var visibility=$("#tlines").css('visibility');
		$("#tlines").css('visibility', (visibility == 'visible') ? 'hidden' : 'visible');
		if( visibility == 'visible' )
			$("#area").removeClass("notes");
		else
			$("#area").addClass("notes");
	}
	function SetFontSize()
	{
		area.style.fontSize = localStorage.notepad_fontSize+'px';
	}
	function SetDocTitle()
	{
		var name = localStorage.notepad_filename;
		if( name=='' )
			document.title = 'Notepad | Online Notes free, no login required';
		else
			document.title = 'Notepad - '+localStorage.notepad_filename;
	}
	function SetBar() {
		//var pos=$("#area").prop("selectionStart");
		var pos=$("#area").prop("selectionEnd");
		var txt=$("#area").val();
      var chars = txt.length;
		txt = txt.substring(0,pos);
		var line = txt.split('\n').length;
		var col = txt.split('\n')[line-1].length+1;
		$("#bar").html("Line "+line+", Column "+col+"&emsp;&emsp;&emsp; Chars "+chars);
	}
</script>

</body>

</html>
