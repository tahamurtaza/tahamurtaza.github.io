
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Webcam Mirror Online - See yourself on the screen</title>
<meta content="Virtual webcam mirror effect online to see yourself on the screen app." name="description">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<style>
html,body {
	height:100%;
	background:#C0C0C0;
}
#bread { padding:10px 10px 0 50px; }
#bread, #bread a { font:large arial; }
#bread a { color:#0000c0; padding:8px; }
#bread a:hover { background:#e0e0e0; text-decoration: none; }
#toolbar { width:733px; margin:0 auto; }
#bar {
   position:fixed;
   left: 49%;
   transform: translateX(-50%);
   top:50px;
}
#bar .btn {
   margin-top:30px;
   z-index:1;
}
#bar i {
   vertical-align: bottom;
}
#vid {
   z-index:0;
   margin:0 auto;
   border:20px solid black;
   max-width:733px;
   width:100%;
   height:500px;
   -webkit-transform: scaleX(-1);
   transform: scaleX(-1);
	-webkit-border-radius: 50px;
	-moz-border-radius: 50px;
	border-radius: 50px;
}
@media (max-width:576px) {
   #bread { padding-left:10px; }
   #bar { top:unset; bottom:0; }
   #bar .btn { padding:6px; }
   #vid { height:calc(100vh - 92px); }
}
@media (min-width:577px) {
   #zoomRange { display:none; }
}
</style>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2665076-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-2665076-2');
</script>

<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>

</head>
<body>
WebCam Mirror 
<div id="toolbar">
   <form id="mform">
   <div class="alert alert-warning" role="alert">
      The camera might be disabled - try to enable camera by clicking the camera icon on the browser's address bar and reload page!
   </div>
   <input type="range" class="custom-range" id="zoomRange">
   <video id="vid" autoplay playsinline></video>
   <div id="bar" class="btn-group">
   <div class="btn-group btn-group-toggle" data-toggle="buttons">
   <label class="btn btn-secondary">
      <input type="radio" name="options" id="option1"> <i class="material-icons">colorize</i> Sepia
   </label>
   <label class="btn btn-secondary">
      <input type="radio" name="options" id="option2"> <i class="material-icons">filter_vintage</i> Grayscale
   </label>
   <label class="btn btn-secondary">
      <input type="radio" name="options" id="option3"> <i class="material-icons">invert_colors</i> Invert
   </label>
   <label class="btn btn-secondary">
      <input type="radio" name="options" id="option4"> <i class="material-icons">brightness_medium</i> Contrast
   </label>
   <label class="btn btn-secondary">
      <input type="radio" name="options" id="option5"> <i class="material-icons">blur_on</i> Blur
   </label>
   </div>
   <button type="button" id="removebtn" class="btn btn-secondary"> <i class="material-icons">clear</i> Reset</button>
   </div>
   </form>
</div>
<script>
   $( document ).ready(function() {
      $(".alert-warning").hide();
      $("#zoomRange").hide();
      $("#removebtn").click(function() {
         $("#vid").css("filter", "");
         $(".btn-group input[name='options']").prop("checked", "false");
         $(".btn-group label").removeClass("active");
      });
      $('.btn-group input:radio').change(function() {
         var radioButtons = $(".btn-group input[name='options']");
         var i = radioButtons.index(radioButtons.filter(':checked'));
         $("#vid").css("filter", "");
         if( i==0 ) $("#vid").css("filter", "sepia(100%)");
         if( i==1 ) $("#vid").css("filter", "grayscale(100%)");
         if( i==2 ) $("#vid").css("filter", "invert(100%)");
         if( i==3 ) $("#vid").css("filter", "contrast(150%)");
         if( i==4 ) $("#vid").css("filter", "blur(5px)");
      });
      initVideo();
   });
   function initVideo()
   {
      const sleep = ms => new Promise(res => setTimeout(res, ms));
      var constraints = { audio: false, video: { width: 1280, height: 720 } }; 
      navigator.mediaDevices.getUserMedia(constraints)
      .then(async mediaStream => {
      //.then(function(mediaStream) {
      //.then(function success(mediaStream) {
         var video = document.querySelector('video');
         video.srcObject = mediaStream;
         video.onloadedmetadata = function(e) {
            video.play();
         };

         await sleep(1000);
         const track = mediaStream.getVideoTracks()[0];
         const capabilities = track.getCapabilities();
         const settings = track.getSettings();
         const input = document.querySelector('input[type="range"]');
         if (!('zoom' in capabilities)) 
            return;
         $("#zoomRange").show();
         input.min = capabilities.zoom.min;
         input.max = capabilities.zoom.max;
         input.step = capabilities.zoom.step;
         input.value = settings.zoom;
         input.oninput = function(event) {
            track.applyConstraints({advanced: [ {zoom: event.target.value} ]});
         }
         input.hidden = false;
      })
      .catch(function(err) {
         console.log(err.name + ": " + err.message);
         $(".alert-warning").show();
         $("#zoomRange").hide();
         $("#bar").hide();
      });
   }
</script>
</body>

</html>
